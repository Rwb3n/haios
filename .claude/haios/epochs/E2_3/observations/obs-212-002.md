---
id: obs-212-002
session: 212
triage_status: pending
potential_action: investigation
priority: medium
generated: 2026-01-19
last_updated: '2026-01-19T20:49:09'
---
# Observation: Hook Input Schema Not Documented

## What Was Observed

There is no authoritative documentation for what data each Claude Code hook type receives. During E2-235, agent had to discover through code inspection that:

- UserPromptSubmit receives: session_id, transcript_path, cwd, hook_event_name, prompt
- PreToolUse receives: tool_name, tool_input
- PostToolUse receives: tool_name, tool_response, tool_input
- Stop receives: session_id, transcript_path, stop_hook_active

Meanwhile, statusLine receives the full model context including `context_window.*` fields.

## Impact

- Agent discoverability: Can't know what data is available without reading code
- Incorrect assumptions: E2-235 assumed context_window would be available to hooks
- Wasted implementation effort: Original E2-235 deliverables were infeasible

## Potential Actions

- **investigation**: Survey all hook types, document their input schemas
- **adr**: Decide where hook schema documentation should live (L4? INV-052?)

## References

- E2-235 observations
- `.claude/hooks/hooks/user_prompt_submit.py:50-64` (docstring)
- `.claude/hooks/hooks/pre_tool_use.py`
- `.claude/hooks/hooks/stop.py`
