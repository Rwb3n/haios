---
id: obs-250-01
session: 250
date: 2026-01-27
triage_status: pending
potential_action: bugfix
dimension: infrastructure
priority: medium
generated: '2026-01-27'
last_updated: '2026-01-27T21:31:35'
---
# obs-250-01: 20 pre-existing test failures across test suite

## Observation

The test suite has 20 consistently failing tests. Root causes:

1. **test_routing_gate.py** (4 tests): Tests pass `work_type` keyword to `determine_route()` but the function signature at `.claude/haios/lib/routing.py:28` only accepts `next_work_id` and `has_plan`. Tests added for WORK-014 but function never updated.

2. **test_lib_retrieval.py** (4 tests): Import chain broken - `retrieval.py` imports from `extraction.py` which imports `preprocessors` module that doesn't exist in `.claude/haios/lib/`.

3. **test_checkpoint_cycle_verify.py** (6 tests): Tests assert VERIFY phase structure in checkpoint-cycle skill file that no longer matches actual content.

4. **Stale skill tests** (6 tests): test_coldstart_orchestrator, test_lib_scaffold, test_observation_capture_cycle, test_survey_cycle, test_template_rfc2119 - all assert content/structure that has drifted from actual files.

## Impact

854 pass / 20 fail means ~2.3% failure rate. Failures are stable and pre-existing but mask potential new regressions.

## Suggested Action

Batch fix or delete stale tests. Group 1-2 need code fixes. Group 3-4 need test updates to match current skill content.
