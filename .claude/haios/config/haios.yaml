# generated: 2026-01-03
# System Auto: last updated on: 2026-01-25T01:48:14
# HAIOS System Configuration
# Consolidates: governance-toggles.yaml, routing-thresholds.yaml
# Version: 2.3 (Session 206 - The Pipeline)

# Plugin manifest (for portable plugin spec)
manifest:
  name: haios
  version: "2.3"
  description: "Hybrid AI Operating System - Doc-to-Product Pipeline"

# Current epoch context (ADR-042: Arc > Chapter in hierarchy)
epoch:
  current: E2.3
  subversion: "2.3"  # The Pipeline
  epoch_file: ".claude/haios/epochs/E2_3/EPOCH.md"
  architecture_dir: ".claude/haios/epochs/E2_3/architecture"
  arcs_dir: ".claude/haios/epochs/E2_3/arcs"
  observations_dir: ".claude/haios/epochs/E2_3/observations"
  # Prior epoch (for reference)
  prior_epoch: ".claude/haios/epochs/E2/EPOCH.md"
  # Foundational architecture (MUST load) - carries forward from E2
  foundational:
    - S20-pressure-dynamics.md
    - S21-cognitive-notation.md
    - S22-skill-patterns.md
  # Active arcs
  active_arcs:
    - configuration
    - provenance
    - pipeline
    - workuniversal
    - migration
    - observations

# Governance toggles (from governance-toggles.yaml)
toggles:
  block_powershell: true  # PowerShell through bash mangles $_ variables
  # block_sql: true       # Future: migrate from hardcoded

# Routing thresholds (from routing-thresholds.yaml)
thresholds:
  observation_pending:
    enabled: true
    max_count: 10
    divert_to: observation-triage-cycle
    escape_priorities: [critical]

# Context loading configuration (WORK-008)
# Role-based loader dispatch per L4 principles
context:
  roles:
    main:
      loaders: [identity]
      description: "Main agent - philosophical grounding"
    builder:
      loaders: [identity]
      description: "Builder agent - identity + work context"
    validator:
      loaders: [identity]
      description: "Validator agent - identity + requirements"
  loader_registry:
    identity:
      module: identity_loader
      class: IdentityLoader

# Agent configurations (E2-072: Phase-as-Subagent pattern)
agents:
  critique:
    description: "Pre-implementation assumption surfacing"
    framework: assumption_surfacing  # Default framework
    frameworks_dir: ".claude/haios/config/critique_frameworks/"
    integration:
      gate: plan-validation-cycle.CRITIQUE
      trigger: pre-DO
    context_loading:
      - manifesto/L4/agent_user_requirements.md
      - work_item
      - plan
